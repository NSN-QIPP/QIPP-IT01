<!-- Purpose: Below code is written for QIPP LEAN form creation page, This page is used in Creation and Edit of the Project related to LEAN
---- Author: Manish/Haripriya -----
---- Created by: Manish -----
---- Created Date: 29th June 2016 -->
<apex:page id="page" standardController="QIPP_Project__c" extensions="QIPPLeanProject" sidebar="false" tabStyle="QIPP_Project__c" showHeader="true" title="{!If(proj.Id == null,'New Lean QIPP Project', 'QIPP Project Edit: '+proj.Project_Number__c)}">
<apex:sectionHeader title="{!If(proj.Id == null ,$ObjectType.QIPP_Project__c.Label,$ObjectType.QIPP_Project__c.Label + ' Edit' )}" subtitle="{!If(proj.Id == null ,'New Lean '+ $ObjectType.QIPP_Project__c.Label,proj.Project_Number__c)}"/>

    <!-- Added by Rahul(15-11-2016)-- Start -->
    <style type = 'text/css'>
        #calMonthPicker, #calYearPicker{
            width: auto;
        }
        .BenfpopupBackground{
        background-color:black;
        opacity: 0.20;
        filter: alpha(opacity = 20);
        position: absolute;
        width: 100%;
        height: 100%;
        top: 0;
        left:0px;
        z-index: 9998;
        }
        .LeadSponsorEqualPopup{
        background-color: white;
        border-width: 2px;
        border-style: solid;
        z-index: 9999;
        left: 38%;
        padding: 10px;
        position: fixed;
        width: 310px !important;
        top: 32%;     
        }

        #loading{
           width: 100%;
           height: 100%;
           top: 0;
           left: 0;
           position: fixed;
           display: block;
           opacity: 0.5;
           background-color: #E1E8EB;
           z-index: 99;
           text-align: center;
        }
        
        #loading-image {
          position: absolute;
          top: 50%;
          left: 50%;
          z-index: 100;
        }        
    </style>
    <!-- Added by Rahul(15-11-2016)-- End -->

<apex:form id="Leanform"> <apex:inputHidden id="DistributionPercent" value="{!proj.Distribution__c}"/>    <apex:inputHidden id="oldBGVal" value="{!proj.Portfolio_BU__c}"/><apex:inputHidden id="oldBUVal" value="{!proj.Project_BL__c}"/>          <apex:inputHidden id="oldBLVal" value="{!proj.Benefitting_Project_BL_Level_4_Org__c}"/>
    <apex:pageBlock id="pblock" mode="edit">
    <div id="loading" style="display:none;">
        <img id="loading-image" src="https://raw.githubusercontent.com/ressio/lazy-load-xt/master/src/loading.gif" alt="Loading..." />
    </div>    
    <apex:pageMessages id="pgMsg"></apex:pageMessages>
        <apex:pageBlockButtons >
            <apex:commandButton id="saveButton" action="{!save}" onclick="startProcess(); CompareBBG(); if(isAcceptChange=='false') {return false;}" reRender="pgMsg,projLeadSponsorEqualPopup" Value="Save" title="Save" oncomplete="endProcess();"/>
            <apex:commandButton id="saveandnewButton" action="{!saveAndNew}" onclick="startProcess(); CompareBBG(); if(isAcceptChange=='false') {return false;}" reRender="pgMsg,projLeadSponsorEqualPopup" value="Save And New" title="Save And New" oncomplete="endProcess();"/>
            <apex:commandButton id="cancelButton" action="{!cancel}" Value="Cancel" title="Cancel" onclick="startProcess();" oncomplete="endProcess();"/>
        </apex:pageBlockButtons>
        
        
        <!-- Start of First Section ** Standard Project Fields -->
        <apex:pageBlockSection id="pbsection1" columns="2" title="Standard Project Fields" collapsible="false">
            <apex:pageBlockSectionItem id="projName" helpText="{!$ObjectType.QIPP_Project__c.fields.Project_Name_Succinct__c.inlineHelpText}">
                <apex:outputLabel value="{!$ObjectType.QIPP_Project__c.fields.Project_Name_Succinct__c.Label}" for="projName"/>
                <apex:outputPanel styleClass="requiredInput" layout="block">
                <apex:outputPanel styleClass="requiredBlock" layout="block"/>
                <apex:inputField id="projName" value="{!proj.Project_Name_Succinct__c}"/><br/><apex:outputText id="error" value="{!GenericError}" rendered="{!LEN(ProjNameError)>0}" style="color:#d74c3b"/>
                </apex:outputPanel>
            </apex:pageBlockSectionItem>
        <apex:pageBlockSectionItem id="portfolioBUItem" helpText="{!$ObjectType.QIPP_Project__c.fields.Portfolio_BU__c.inlineHelpText}">
                <apex:outputLabel id="PBUItem" value="{!$ObjectType.QIPP_Project__c.fields.Portfolio_BU__c.Label}" for="portfolioBU" style="display: inline-block;width: 220px;"/>
                <apex:outputPanel styleClass="requiredInput" layout="block">
                <apex:outputPanel styleClass="requiredBlock" layout="block"/>
                <apex:inputField id="portfolioBU" value="{!proj.Portfolio_BU__c}"><br/><apex:outputText id="error" value="{!GenericError}" rendered="{!LEN(PBBGError)>0}" style="color:#d74c3b"/>
                </apex:inputField>
                </apex:outPutPanel>
            </apex:pageBlockSectionItem>           
            <apex:pageBlockSectionItem id="projLeadItem" rendered="{!IF(And(phasecompleted != 'Define',phasecompleted !=  'Measure',phasecompleted !=  'Analyze',phasecompleted !=  'Improve',phasecompleted !=  'Control'), TRUE, FALSE)}" helpText="{!$ObjectType.QIPP_Project__c.fields.Project_Lead__c.inlineHelpText}">
                <apex:outputLabel value="{!$ObjectType.QIPP_Project__c.fields.Project_Lead__c.Label}" for="projLead"/>
                <apex:outputPanel styleClass="requiredInput" layout="block">
                <apex:outputPanel styleClass="requiredBlock" layout="block"/>
                <apex:inputField id="projLead" value="{!proj.Project_Lead__c}"/><br/><apex:outputText id="error" value="{!GenericError}" rendered="{!LEN(ProjLeadError)>0}" style="color:#d74c3b"/>
                </apex:outputPanel>
            </apex:pageBlockSectionItem>
            <apex:pageBlockSectionItem id="projLeadItem_RO" rendered="{!IF(OR(phasecompleted == 'Define',phasecompleted == 'Measure',phasecompleted == 'Analyze',phasecompleted == 'Improve',phasecompleted == 'Control'), TRUE, FALSE)}" helpText="{!$ObjectType.QIPP_Project__c.fields.Project_Lead__c.inlineHelpText}">
                <apex:outputLabel value="{!$ObjectType.QIPP_Project__c.fields.Project_Lead__c.Label}" for="projLead"/>
                <apex:outputText id="projLead" value="{!proj.Project_Lead__r.name}"/>
            </apex:pageBlockSectionItem>
            <apex:pageBlockSectionItem id="bBU" helpText="{!$ObjectType.QIPP_Project__c.fields.Project_BL__c.inlineHelpText}">
                <apex:outputLabel value="{!$ObjectType.QIPP_Project__c.fields.Project_BL__c.Label}" for="bBU"/>
                <apex:outputPanel styleClass="requiredInput" layout="block">
                <apex:outputPanel styleClass="requiredBlock" layout="block"/>
                <apex:inputField id="bBU" value="{!proj.Project_BL__c}"/><br/><apex:outputText id="error" value="{!GenericError}" rendered="{!LEN(BBUError)>0}" style="color:#d74c3b"/>
                </apex:outputPanel>
            </apex:pageBlockSectionItem>
            <apex:pageBlockSectionItem id="portfolioItem" helpText="{!$ObjectType.QIPP_Project__c.fields.Portfolio_Name__c.inlineHelpText}">           
               <apex:outputLabel value="{!$ObjectType.QIPP_Project__c.fields.Portfolio_Name__c.Label}" for="portfolioName"/>
                <apex:outputPanel styleClass="requiredInput" layout="block">
                <apex:outputPanel styleClass="requiredBlock" layout="block"/> 
                <apex:actionRegion >
                <apex:selectList id="portfolioName1" value="{!portfolioName}" size="1">
                        <apex:selectOptions value="{!PortfolioValues}"/>
                        <apex:actionSupport event="onchange" action="{!getPortfolioBBGValue}" oncomplete="disabledBG();" reRender="portfolioBU,bBU,bBL,bumbb"/>
                </apex:selectList><br/><apex:outputText id="error" value="{!GenericError}" rendered="{!LEN(PortfolioError)>0}" style="color:#d74c3b"/>
                </apex:actionRegion>
                </apex:outputPanel>              
           </apex:pageBlockSectionItem>
            <apex:pageBlockSectionItem id="bBL" helpText="{!$ObjectType.QIPP_Project__c.fields.Benefitting_Project_BL_Level_4_Org__c.inlineHelpText}">
                <apex:outputLabel value="{!$ObjectType.QIPP_Project__c.fields.Benefitting_Project_BL_Level_4_Org__c.Label}" for="portfolioDesc"/>
                <apex:outputPanel styleClass="requiredInput" layout="block">
                <apex:outputPanel styleClass="requiredBlock" layout="block"/>
                <apex:inputField id="bBL" value="{!proj.Benefitting_Project_BL_Level_4_Org__c}"/><br/><apex:outputText id="error" value="{!GenericError}" rendered="{!LEN(BBLError)>0}" style="color:#d74c3b"/>
                </apex:outputPanel>
            </apex:pageBlockSectionItem>
            <apex:pageBlockSectionItem id="projState" helpText="{!$ObjectType.QIPP_Project__c.fields.Project_State__c.inlineHelpText}" rendered="{!IF((projectId != null),true,false)}">
                <apex:outputLabel value="{!$ObjectType.QIPP_Project__c.fields.Project_State__c.Label}" for="projState"/>
                <apex:outputPanel styleClass="requiredInput" layout="block">
                    <apex:outputPanel styleClass="requiredBlock" layout="block"/>
                    <apex:selectList id="projState" value="{!projState}" size="1">
                        <apex:selectOptions value="{!ProjectStateValues}"/>
                    </apex:selectList>
                 </apex:outputPanel>   
            </apex:pageBlockSectionItem>
            <apex:pageBlockSectionItem id="cemtmeasureID" helpText="{!$ObjectType.QIPP_Project__c.fields.CEMT_ID__c.inlineHelpText}" rendered="{!IF((projectId == null),true,false)}">
                <apex:outputLabel value="{!$ObjectType.QIPP_Project__c.fields.CEMT_ID__c.Label}" for="cemtID"/>
                <apex:outputPanel styleClass="requiredInput" layout="block">
                <apex:outputPanel styleClass="requiredBlock" layout="block"/>
                <apex:inputField id="cemtID" value="{!proj.CEMT_ID__c}"/><br/><apex:outputText id="error" value="Error: Blank space not accepted, please use Not Applicable instead." rendered="{!LEN(CEMT_MeasureError)>0}" style="color:#d74c3b"/>
                </apex:outputPanel>
            </apex:pageBlockSectionItem>
            <apex:pageBlockSectionItem id="CompDatePlanned" helpText="{!$ObjectType.QIPP_Project__c.fields.Project_Completion_Date_Target__c.inlineHelpText}" rendered="{!IF((projectId == null),true,false)}">
                <apex:outputLabel value="Completion Date - Planned" for="CompDtPlanned" Style="width:150px;display:inline-block"/>
                <apex:outputPanel styleClass="requiredInput" layout="block">
                <apex:outputPanel styleClass="requiredBlock" layout="block"/>
                <apex:inputfield id="CompDtPlanned" value="{!proj.Project_Completion_Date_Target__c}" required="false"/><br/><apex:outputText value="{!GenericError}" rendered="{!LEN(compDatePlanError)>0}" style="color:#d74c3b"/>
                </apex:outputPanel>
            </apex:pageBlockSectionItem>
            <apex:pageBlockSectionItem id="CompDtPlanned" helpText="{!$ObjectType.QIPP_Project__c.fields.Project_Completion_Date_Target__c.inlineHelpText}" rendered="{!IF((projectId != null),true,false)}">
                <apex:outputLabel value="Completion Date - Planned" for="CompDtPlanned" Style="width:150px;display:inline-block"/>
                <apex:outputPanel styleClass="requiredInput" layout="block">
                <apex:outputPanel styleClass="requiredBlock" layout="block"/>
                <apex:inputfield id="CompDtPlanned" value="{!proj.Project_Completion_Date_Target__c}" required="false"/><br/><apex:outputText value="{!GenericError}" rendered="{!LEN(compDatePlanError)>0}" style="color:#d74c3b"/>
                </apex:outputPanel>
            </apex:pageBlockSectionItem>
            <apex:pageBlockSectionItem id="cemtID" helpText="{!$ObjectType.QIPP_Project__c.fields.CEMT_ID__c.inlineHelpText}" rendered="{!IF((projectId != null),true,false)}">
                <apex:outputLabel value="{!$ObjectType.QIPP_Project__c.fields.CEMT_ID__c.Label}" for="cemtID"/>
                <apex:outputPanel styleClass="requiredInput" layout="block">
                <apex:outputPanel styleClass="requiredBlock" layout="block"/>
                <apex:inputField id="cemtID" value="{!proj.CEMT_ID__c}"/><br/><apex:outputText id="error" value="Error: Blank space not accepted, please use Not Applicable instead." rendered="{!LEN(CEMT_MeasureError)>0}" style="color:#d74c3b"/>
                </apex:outputPanel>
            </apex:pageBlockSectionItem> 
            
            <apex:pageBlockSectionItem id="itemforcast" helpText="{!$ObjectType.QIPP_Project__c.fields.Project_Completion_Date_Forecast__c.inlineHelpText}" rendered="{!IF((projectId != null),true,false)}">
                <apex:outputLabel value="Completion Date - Forecast" for="forecast"/>
                <apex:outputPanel styleClass="requiredInput" layout="block">
                <apex:outputPanel styleClass="requiredBlock" layout="block"/>
                <apex:inputField id="forecast" value="{!proj.Project_Completion_Date_Forecast__c}"/><br/><apex:outputText value="{!GenericError}" rendered="{!LEN(compDateForecastError)>0}" style="color:#d74c3b"/>
                </apex:outputPanel>
            </apex:pageBlockSectionItem>
            <apex:pageBlockSectionItem id="PortfolioDec" helpText="{!$ObjectType.QIPP_Project__c.Fields.Project_Description_Detailed__c.inlineHelpText}" rendered="{!IF((projectId != null),true,false)}">
                <apex:outputLabel id="ProjDecs" value="{!$ObjectType.QIPP_Project__c.fields.Project_Description_Detailed__c.Label}" for="projectDesc" style="display: inline-block;width: 110px;"/>
                <apex:outputPanel styleClass="requiredInput" layout="block">
                <apex:outputPanel styleClass="requiredBlock" layout="block"/>
                <apex:inputField id="portfolioDesc" value="{!proj.Project_Description_Detailed__c}" html-placeholder="1800 Character Limit"  style="width: 590px; height: 60px"/><br/><apex:outputText id="error" value="{!GenericError}" rendered="{!LEN(ProjDescError)>0}" style="color:#d74c3b"/>
                </apex:outputPanel>
            </apex:pageBlockSectionItem>
            <apex:pageBlockSectionItem id="ProjectDec" helpText="{!$ObjectType.QIPP_Project__c.Fields.Project_Description_Detailed__c.inlineHelpText}" rendered="{!IF((projectId == null),true,false)}">
                <apex:outputLabel id="ProjDecs" value="{!$ObjectType.QIPP_Project__c.fields.Project_Description_Detailed__c.Label}" for="projectDesc" style="display: inline-block;width: 110px;"/>
                <apex:outputPanel styleClass="requiredInput" layout="block">
                <apex:outputPanel styleClass="requiredBlock" layout="block"/>
                <apex:inputField id="portfolioDesc" value="{!proj.Project_Description_Detailed__c}" html-placeholder="1800 Character Limit"  style="width: 590px; height: 60px"/><br/><apex:outputText id="error" value="{!GenericError}" rendered="{!LEN(ProjDescError)>0}" style="color:#d74c3b"/>
                </apex:outputPanel>
            </apex:pageBlockSectionItem>
            <apex:pageBlockSectionItem id="itemforcastDt" helpText="{!$ObjectType.QIPP_Project__c.fields.Project_Completion_Date_Forecast__c.inlineHelpText}" rendered="{!IF((projectId == null),true,false)}">
                <apex:outputLabel value="Completion Date - Forecast" for="forecast"/>
                <apex:outputPanel styleClass="requiredInput" layout="block">
                <apex:outputPanel styleClass="requiredBlock" layout="block"/>
                <apex:inputField id="forecast" value="{!proj.Project_Completion_Date_Forecast__c}"/><br/><apex:outputText value="{!GenericError}" rendered="{!LEN(compDateForecastError)>0}" style="color:#d74c3b"/>
                </apex:outputPanel>
            </apex:pageBlockSectionItem> 
        </apex:pageBlockSection>            
        <!-- Start of Second Section *** DI  Date/Specific Fields-->        
        <apex:pageBlockSection id="pbsection2" columns="3" title="Lean Specific Fields" collapsible="false">
            <apex:pageBlockSectionItem id="leanCert" helpText="{!$ObjectType.QIPP_Project__c.fields.Lean__c.inlineHelpText}">
                <apex:outputLabel value="Certification Project?" for="leanCert" style="display: inline-block;width: 150px;"/>
                <apex:outputPanel id="reqInp" styleClass="requiredInput" layout="block">
                    <apex:outputPanel styleClass="requiredBlock" layout="block"/>
                    <apex:selectRadio value="{!lcertName}" style="margin-top: -5px;margin-left:-15px;position:absolute;">
                        <apex:selectOptions value="{!leanCertificatValues}"/>
                    </apex:selectRadio><br/><apex:outputText value="{!GenericError}" rendered="{!LEN(leanCertError)>0}" style="color:#d74c3b"/>
                </apex:outputPanel>
            </apex:pageBlockSectionItem>
            <apex:pageBlockSectionItem id="bpSponsorItem" helpText="{!$ObjectType.QIPP_Project__c.fields.Project_Owner__c.inlineHelpText}">
                <apex:outputLabel value="Project Sponsor" for="bpsponsor"/>
                <apex:outputPanel styleClass="requiredInput" layout="block">
                <apex:outputPanel styleClass="requiredBlock" layout="block"/>
                <apex:inputField id="bpSponsor" value="{!proj.Belt_Project_Sponsor__c}"/><br/><apex:outputText value="{!GenericError}" rendered="{!LEN(ProjSponsError)>0}" style="color:#d74c3b"/>
                </apex:outputPanel>
            </apex:pageBlockSectionItem>
            <apex:pageBlockSectionItem id="leancoach" helpText="{!$ObjectType.QIPP_Project__c.fields.Lean_Coach__c.inlineHelpText}">
                <apex:outputLabel value="{!$ObjectType.QIPP_Project__c.fields.Lean_Coach__c.Label}" for="bcandment"/>
                <apex:inputField id="leancoach" value="{!proj.Lean_Coach__c}" style="width:148px"/>
            </apex:pageBlockSectionItem>
            <apex:pageBlockSectionItem id="leanProjItem" helpText="{!$ObjectType.QIPP_Project__c.fields.Lean_Project_Type__c.inlineHelpText}">
                <apex:outputLabel value="{!$ObjectType.QIPP_Project__c.fields.Lean_Project_Type__c.Label}" for="Beltprjtyp"/>
                <apex:outputPanel styleClass="requiredInput" layout="block">
                <apex:outputPanel styleClass="requiredBlock" layout="block"/>
                    <apex:selectList id="methodology" value="{!projectype}" size="1" style="width:200px">
                        <apex:selectOptions value="{!ProjectTypeValues}"/>
                    </apex:selectList><br/><apex:outputText value="{!GenericError}" rendered="{!LEN(projtypeError)>0}" style="color:#d74c3b"/>
                </apex:outputPanel>
            </apex:pageBlockSectionItem>
            <apex:pageBlockSectionItem id="finapprover" helpText="{!$ObjectType.QIPP_Project__c.fields.Finance_Approver__c.inlineHelpText}">
                <apex:outputLabel value="{!$ObjectType.QIPP_Project__c.fields.Finance_Approver__c.Label}" for="finapprover"/>
                <apex:inputField id="finapprover" value="{!proj.Finance_Approver__c}"/>
            </apex:pageBlockSectionItem>
            <apex:pageBlockSectionItem id="bumbbItem" helpText="Business Group Master Black Belt(BG-MBB) from the benefitting organization will be overseeing your project. This is dynamically updated based on the selected portfolio.">
                <a id="theLink" target="_new" name="theLink" style="color: #4a4a56; width: 190px;display: inline-block;" href="https://workspaces-emea.int.nokia.com/sites/L6S/Lists/L6S%20Contacts/">Business Group Master Black Belt</a>
                <apex:selectList id="bumbb" value="{!bumbbName}" size="1" style="width:172px">
                    <!-- E036- start -->
                    <!--<apex:selectOptions value="{!BumbbValues}"/>-->
                    <apex:selectOptions value="{!bGMBBOptions}"/>
                    <!-- E036- end -->
                </apex:selectList>
            </apex:pageBlockSectionItem>
            <apex:pageBlockSectionItem id="LeanProjPhase" helpText="{!$ObjectType.QIPP_Project__c.fields.Lean_Project_Phase__c.inlineHelpText}" >
                <apex:outputLabel value="Project Phase" for="LeanProjPhase"/>
                <apex:selectList id="LeanProjPhase" value="{!leanProjectPhase}" size="1" style="width:200px">
                        <apex:selectOptions value="{!leanprojectphasevalues}"/>
                </apex:selectList>
            </apex:pageBlockSectionItem>
            <apex:pageBlockSectionItem id="L6sAssigned" helpText="{!$ObjectType.QIPP_Project__c.fields.Belt_Assigned__c.inlineHelpText}">
                <apex:outputLabel value="{!$ObjectType.QIPP_Project__c.fields.Belt_Assigned__c.Label}" for="L6SBA"/>
                <apex:inputField id="L6sAssigned" value="{!proj.Belt_Assigned__c}" required="false"/>
            </apex:pageBlockSectionItem>
            <apex:pageBlockSectionItem id="NoofKaizen" helpText="{!$ObjectType.QIPP_Project__c.fields.Number_of_Kaizens__c.inlineHelpText}">
                <apex:outputLabel value="{!$ObjectType.QIPP_Project__c.fields.Number_of_Kaizens__c.Label}" for="L6SBA"/>
                <apex:inputField id="NoofKaizen" value="{!proj.Number_of_Kaizens__c}" required="false"/>
            </apex:pageBlockSectionItem>
        </apex:pageBlockSection>
            <!-- Section 2 Ended-->
            
           <!--Section 3 started
            
        <apex:pageBlockSection id="pbsection3" columns="4" title="Lean Methods (select at least one and check all that apply)" collapsible="false" >
            <apex:pageBlockSectionItem id="ChBox1" helpText="{!$ObjectType.QIPP_Project__c.fields.X5S__c.inlineHelpText}">
                <apex:outputLabel value="{!$ObjectType.QIPP_Project__c.fields.X5S__c.Label}" for="ChBox1"/>
                <apex:inputField id="ChBox1" value="{!proj.X5S__c}"/>
            </apex:pageBlockSectionItem>
            <apex:pageBlockSectionItem id="ChBox11" helpText="{!$ObjectType.QIPP_Project__c.fields.Levelized_Production__c.inlineHelpText}">
                <apex:outputLabel value="{!$ObjectType.QIPP_Project__c.fields.Levelized_Production__c.Label}" for="ChBox11"/>
                <apex:inputField id="ChBox11" value="{!proj.Levelized_Production__c}"/>
            </apex:pageBlockSectionItem>
            <apex:pageBlockSectionItem id="ChBox4" helpText="{!$ObjectType.QIPP_Project__c.fields.SMED__c.inlineHelpText}">
                <apex:outputLabel value="{!$ObjectType.QIPP_Project__c.fields.SMED__c.Label}" for="ChBox4"/>
                <apex:inputField id="ChBox4" value="{!proj.SMED__c}"/>
            </apex:pageBlockSectionItem>
            <apex:pageBlockSectionItem id="ChBox14" helpText="{!$ObjectType.QIPP_Project__c.fields.Visual_Management__c.inlineHelpText}">
                <apex:outputLabel value="{!$ObjectType.QIPP_Project__c.fields.Visual_Management__c.Label}" for="ChBox14"/>
                <apex:inputField id="ChBox14" value="{!proj.Visual_Management__c}"/>
            </apex:pageBlockSectionItem>
            <apex:pageBlockSectionItem id="ChBox3" helpText="{!$ObjectType.QIPP_Project__c.fields.Autonomation__c.inlineHelpText}">
                <apex:outputLabel value="{!$ObjectType.QIPP_Project__c.fields.Autonomation__c.Label}" for="ChBox3" style="display: inline-block;width: 150px;"/>
                <apex:inputField id="ChBox3" value="{!proj.Autonomation__c}"/>
            </apex:pageBlockSectionItem>
            <apex:pageBlockSectionItem id="ChBox13" helpText="{!$ObjectType.QIPP_Project__c.fields.Poka_yoke__c.inlineHelpText}">
                <apex:outputLabel value="{!$ObjectType.QIPP_Project__c.fields.Poka_yoke__c.Label}" for="ChBox13"/>
                <apex:inputField id="ChBox13" value="{!proj.Poka_yoke__c}"/>
            </apex:pageBlockSectionItem>
            <apex:pageBlockSectionItem id="ChBox6" helpText="{!$ObjectType.QIPP_Project__c.fields.Spaghetti_Diagrams__c.inlineHelpText}">
                <apex:outputLabel value="{!$ObjectType.QIPP_Project__c.fields.Spaghetti_Diagrams__c.Label}" for="ChBox6"/>
                <apex:inputField id="ChBox6" value="{!proj.Spaghetti_Diagrams__c}"/>
            </apex:pageBlockSectionItem>
            <apex:pageBlockSectionItem id="ChBox15" helpText="{!$ObjectType.QIPP_Project__c.fields.Workload_Balancing__c.inlineHelpText}">
                <apex:outputLabel value="{!$ObjectType.QIPP_Project__c.fields.Workload_Balancing__c.Label}" for="ChBox15" style="width: 220px;display: inline-block;margin-left: 30px;"/>
                <apex:inputField id="ChBox15" value="{!proj.Workload_Balancing__c}"/>
            </apex:pageBlockSectionItem>
            <apex:pageBlockSectionItem id="ChBox5" helpText="{!$ObjectType.QIPP_Project__c.fields.Ergonomics__c.inlineHelpText}">
                <apex:outputLabel value="{!$ObjectType.QIPP_Project__c.fields.Ergonomics__c.Label}" for="ChBox5"/>
                <apex:inputField id="ChBox5" value="{!proj.Ergonomics__c}"/>
            </apex:pageBlockSectionItem>
            <apex:pageBlockSectionItem id="ChBox17" helpText="{!$ObjectType.QIPP_Project__c.fields.One_Piece_Flow__c.inlineHelpText}">
                <apex:outputLabel value="{!$ObjectType.QIPP_Project__c.fields.One_Piece_Flow__c.Label}" for="ChBox17"/>
                <apex:inputField id="ChBox17" value="{!proj.One_Piece_Flow__c}"/>
            </apex:pageBlockSectionItem>
            <apex:pageBlockSectionItem id="ChBox8" helpText="{!$ObjectType.QIPP_Project__c.fields.standard_work__c.inlineHelpText}">
                <apex:outputLabel value="{!$ObjectType.QIPP_Project__c.fields.standard_work__c.Label}" for="ChBox8"/>
                <apex:inputField id="ChBox8" value="{!proj.standard_work__c}"/>
            </apex:pageBlockSectionItem>
            <apex:pageBlockSectionItem id="ChBox16" helpText="{!$ObjectType.QIPP_Project__c.fields.Yamazumi_Charts__c.inlineHelpText}">
                <apex:outputLabel value="{!$ObjectType.QIPP_Project__c.fields.Yamazumi_Charts__c.Label}" for="ChBox16"/>
                <apex:inputField id="ChBox16" value="{!proj.Yamazumi_Charts__c}"/>
            </apex:pageBlockSectionItem>
            <apex:pageBlockSectionItem id="ChBox7" helpText="{!$ObjectType.QIPP_Project__c.fields.Inspections__c.inlineHelpText}">
                <apex:outputLabel value="{!$ObjectType.QIPP_Project__c.fields.Inspections__c.Label}" for="ChBox7"/>
                <apex:inputField id="ChBox7" value="{!proj.Inspections__c}"/>
            </apex:pageBlockSectionItem>
            <apex:pageBlockSectionItem id="ChBox18" helpText="{!$ObjectType.QIPP_Project__c.fields.Pull__c.inlineHelpText}">
                <apex:outputLabel value="{!$ObjectType.QIPP_Project__c.fields.Pull__c.Label}" for="ChBox18"/>
                <apex:inputField id="ChBox18" value="{!proj.Pull__c}"/>
            </apex:pageBlockSectionItem>
            <apex:pageBlockSectionItem id="ChBox10" helpText="{!$ObjectType.QIPP_Project__c.fields.Time_Study__c.inlineHelpText}">
                <apex:outputLabel value="{!$ObjectType.QIPP_Project__c.fields.Time_Study__c.Label}" for="ChBox10"/>
                <apex:inputField id="ChBox10" value="{!proj.Time_Study__c}"/>
            </apex:pageBlockSectionItem>
            <apex:pageBlockSectionItem id="ChBox19" helpText="{!$ObjectType.QIPP_Project__c.fields.Other__c.inlineHelpText}">
                <apex:outputLabel value="Other(s)" for="ChBox19"/>
                <apex:inputField id="ChBox19" value="{!proj.Other__c}"/>
            </apex:pageBlockSectionItem>
            <apex:pageBlockSectionItem id="ChBox9" helpText="{!$ObjectType.QIPP_Project__c.fields.Kanban__c.inlineHelpText}">
                <apex:outputLabel value="{!$ObjectType.QIPP_Project__c.fields.Kanban__c.Label}" for="ChBox9"/>
                <apex:inputField id="ChBox9" value="{!proj.Kanban__c}"/>
            </apex:pageBlockSectionItem>
            <apex:pageBlockSectionItem id="ChBox2" helpText="{!$ObjectType.QIPP_Project__c.fields.Root_Cause_Analysis_Fishbone_5_Whys__c.inlineHelpText}">
                <apex:outputLabel value="{!$ObjectType.QIPP_Project__c.fields.Root_Cause_Analysis_Fishbone_5_Whys__c.Label}" for="ChBox2" style="display:inline-block;width:250px;"/>
                <apex:inputField id="ChBox2" value="{!proj.Root_Cause_Analysis_Fishbone_5_Whys__c}"/>
            </apex:pageBlockSectionItem>
            <apex:pageBlockSectionItem id="ChBox12" helpText="{!$ObjectType.QIPP_Project__c.fields.Total_Productive_Maintenance_TPM__c.inlineHelpText}">
                <apex:outputLabel value="{!$ObjectType.QIPP_Project__c.fields.Total_Productive_Maintenance_TPM__c.Label}" for="ChBox12" style="display:inline-block;width:200px;margin-left: 100px;"/>
                <apex:inputField id="ChBox12" value="{!proj.Total_Productive_Maintenance_TPM__c}"/>
            </apex:pageBlockSectionItem>

            
        </apex:pageBlockSection>
         Section 3 Ended-->
         
        <!-- Section 4 started-->
        
        <apex:pageBlockSection id="pbsection4" columns="3" title="Additional Project Fields" collapsible="false" >
            <apex:pageBlockSectionItem helpText="{!$ObjectType.QIPP_Project__c.fields.Project_Document__c.inlineHelpText}">
                <apex:outputLabel value="{!$ObjectType.QIPP_Project__c.fields.Project_Document__c.Label}" for="ProjDoc"/>
                <apex:outputPanel >
                <apex:inputField id="ProjDoc" value="{!proj.Project_Document__c}" required="false" style="width: 168px; height: 30px"/><apex:outputText value="Error: Enter a valid url where project doc is stored" rendered="{!LEN(projDocumentError)>0}" style="color:#d74c3b"/>
                </apex:outputPanel>
            </apex:pageBlockSectionItem>
            <apex:pageBlockSectionItem helpText="{!$ObjectType.QIPP_Project__c.fields.Planned_Start_Date__c.inlineHelpText}">
                <apex:outputLabel value="{!$ObjectType.QIPP_Project__c.fields.Planned_Start_Date__c.Label}" for="PlanStartDt" Style="width:160px;display:inline-block"/>
                <apex:inputfield id="PlanStartDt" value="{!proj.Planned_Start_Date__c}" required="false"/>
            </apex:pageBlockSectionItem>
            <apex:pageBlockSectionItem helpText="{!$ObjectType.QIPP_Project__c.fields.Project_Flex_Field_1__c.inlineHelpText}">
                <apex:outputLabel value="Project Flex Field" for="ProjFlexField1" style="width: 100px;display: inline-block;"/>
                <apex:inputField id="ProjFlexField1" value="{!proj.Project_Flex_Field_1__c}" required="false" style="width: 300px"/>
            </apex:pageBlockSectionItem>
            <apex:pageBlockSectionItem helpText="{!$ObjectType.QIPP_Project__c.fields.MO_Site__c.inlineHelpText}">
                <apex:outputLabel value="{!$ObjectType.QIPP_Project__c.fields.MO_Site__c.Label}" for="MOSite"/>
                <apex:inputField id="MOSite" value="{!proj.MO_Site__c}" required="false" style="width:173px"/>
            </apex:pageBlockSectionItem>
            <apex:pageBlockSectionItem id="ProjStartDtActl" helpText="{!$ObjectType.QIPP_Project__c.fields.Project_Start_Date__c.inlineHelpText}" >
                <apex:outputLabel value="{!$ObjectType.QIPP_Project__c.fields.Project_Start_Date__c.Label}" for="ProjStartDtActl"/>
                <apex:inputField id="ProjStartDtActl" value="{!proj.Project_Start_Date__c}" required="false"/>
            </apex:pageBlockSectionItem>
            <apex:pageBlockSectionItem helpText="{!$ObjectType.QIPP_Project__c.fields.Progress_To_Date__c.inlineHelpText}">
                <apex:outputLabel value="{!$ObjectType.QIPP_Project__c.fields.Progress_To_Date__c.Label}" for="ptodate"/>
                <apex:inputField id="ptodate" value="{!proj.Progress_To_Date__c}" required="false" style="width: 300px; height: 30px"/>
            </apex:pageBlockSectionItem>
            <apex:pageBlockSectionItem helpText="{!$ObjectType.QIPP_Project__c.fields.Quality_Award_Project__c.inlineHelpText}">
                <apex:outputLabel value="{!$ObjectType.QIPP_Project__c.fields.Quality_Award_Project__c.Label}" for="QtyAwardProj"/>
                <apex:selectRadio id="qtyAwardProj" value="{!qtyAwardProj}" style="margin-top: -5px;margin-left:-15px;position:absolute;">
                    <apex:selectOptions value="{!qtyAwardProjectValues}"/>
                </apex:selectRadio>
            </apex:pageBlockSectionItem>
            <apex:pageBlockSectionItem id="ProjCreDt" >
                <apex:outputLabel value="{!$ObjectType.QIPP_Project__c.fields.Project_Created_Date__c.Label}" for="ProjCreDt"/>
                <apex:outputField id="ProjCreDt" value="{!proj.Project_Created_Date__c}" />
            </apex:pageBlockSectionItem>
            <apex:pageBlockSectionItem helpText="{!$ObjectType.QIPP_Project__c.fields.Next_Steps__c.inlineHelpText}">
                <apex:outputLabel value="{!$ObjectType.QIPP_Project__c.fields.Next_Steps__c.Label}" for="nextStep"/>
                <apex:inputField id="nextStep" value="{!proj.Next_Steps__c}" required="false" style="width: 300px; height: 30px"/>
            </apex:pageBlockSectionItem>
            <apex:pageBlockSectionItem helpText="{!$ObjectType.QIPP_Project__c.fields.Permission_to_use_Belt_Info__c.inlineHelpText}">
                <apex:outputLabel value="Permission to report Candidate recognition" for="PermBeltInfo" style="width:173px;display:inline-block;"/>
                <apex:selectRadio id="PermBeltInfo" value="{!permBeltInfo}" style="margin-top: -5px;margin-left:-15px;position:absolute;">
                    <apex:selectOptions value="{!permBeltInfoValues}"/>
                    </apex:selectRadio>
            </apex:pageBlockSectionItem>
            <apex:pageBlockSectionItem id="Actual" helpText="{!$ObjectType.QIPP_Project__c.fields.Project_Completion_Date_Actual__c.inlineHelpText}" >
                <apex:outputLabel value="Completion Date - Actual" for="Actual"/>
                <apex:inputField id="Actual" value="{!proj.Project_Completion_Date_Actual__c}" required="false"/>
            </apex:pageBlockSectionItem>
            <apex:pageBlockSectionItem helpText="{!$ObjectType.QIPP_Project__c.fields.DI_State__c.inlineHelpText}">
                <apex:outputLabel value="{!$ObjectType.QIPP_Project__c.fields.DI_State__c.Label}" for="DIState"/>
                <apex:selectList id="DIState" value="{!diState}" size="1">
                    <apex:selectOptions value="{!DIStateValues}"/>
                    </apex:selectList>
            </apex:pageBlockSectionItem>
            <apex:pageBlockSectionItem helpText="{!$ObjectType.QIPP_Project__c.fields.Project_Member1__c.inlineHelpText}">
                <apex:outputLabel value="{!$ObjectType.QIPP_Project__c.fields.Project_Member1__c.Label}" for="member1"/>
                <apex:inputField id="member1" value="{!proj.Project_Member1__c}" required="false" style="width: 170px"/>
            </apex:pageBlockSectionItem>
            <apex:pageBlockSectionItem helpText="{!$ObjectType.QIPP_Project__c.fields.Project_Member2__c.inlineHelpText}">
                <apex:outputLabel value="{!$ObjectType.QIPP_Project__c.fields.Project_Member2__c.Label}" for="member2"/>
                <apex:inputField id="member2" value="{!proj.Project_Member2__c}" required="false" style="width: 170px"/>
            </apex:pageBlockSectionItem>
        </apex:pageBlockSection>
        
       <apex:outputPanel id="projLeadSponsorEqualPopup">
        <apex:actionFunction name="cancelLeadSponserPopuup" action="{!closeLeadSponsorEqualPopup}" reRender="projLeadSponsorEqualPopup" />
        <apex:outputPanel id="popupLeadSponsorEqual" styleClass="BenfpopupBackground" layout="block" rendered="{!projLeadSponsorEqual}" />
        <apex:outputPanel styleClass="LeadSponsorEqualPopup" layout="block" rendered="{!projLeadSponsorEqual}">

           <apex:pageBlockSection >
                <apex:pageBlockSectionItem id="projLeadSponsorEqual">
                    <apex:outputLabel value="{!$Label.QIPP_Lead_and_Sponsor_is_Equal_Msg}" style="width: 300px;display: inline-block;text-align: left;"/>
                    <apex:pageBlockSectionItem ></apex:pageBlockSectionItem>
                </apex:pageBlockSectionItem>
            </apex:pageBlockSection>
            <div style="text-align:center;margin-top: 8px;">
                 <apex:commandButton id="btnSaveLeadSponsorEqual" value="OK" action="{!save}"/>
                <apex:commandButton id="btnCancelLeadSponsorEqual" value="Cancel" onclick="cancelLeadSponserPopuup(); return false;"/>
            </div>             
        </apex:outputPanel>
    </apex:outputPanel>        
        
    </apex:pageBlock>    
<apex:inputHidden id="myHiddenField"/>
  <apex:actionFunction name="modifiedBBGDetails" action="{!BBGUpdated}" rerender="myHiddenField">
    </apex:actionFunction>
</apex:form>

    <!-- JQuery Liberary Files-->
    <apex:includeScript value="https://code.jquery.com/jquery-2.1.1.min.js"/>
    <script type="text/javascript">
        var isAcceptChange = 'true';
        var countBBG = false;
        document.getElementById('page:Leanform:pblock:pbsection4:Actual:Actual').disabled=true;
        //document.getElementById('page:Leanform:pblock:pbsection4:ProjStartDtActl:ProjStartDtActl').disabled=true;
            
        var j$ = jQuery.noConflict();
        j$("select[name='page:Leanform:pblock:pbsection2:LeanProjPhase:LeanProjPhase']").attr('disabled','true');
        
        j$(document).ready(function() {
            j$("select[name='page:Leanform:pblock:pbsection1:portfolioBUItem:portfolioBU']").attr('disabled','true');
            var rolename = '{!rolename}';

            var fnCLookupTitle = 'New tooltip';
            document.getElementById('page:Leanform:pblock:pbsection2:finapprover:finapprover_lkwgt').title = fnCLookupTitle;
            var nodes = document.getElementById('page:Leanform:pblock:pbsection2:finapprover:finapprover_lkwgt').getElementsByTagName("img");
            nodes[0].title = fnCLookupTitle; 
        });
        
        function disabledBG(){
            j$("select[name='page:Leanform:pblock:pbsection1:portfolioBUItem:portfolioBU']").attr('disabled','true');
        }
         
        function startProcess(){
            j$("[id^=loading]").each(function(index, ele){
                j$(ele).show();
            });
        }
        
        function endProcess(){
            j$("[id^=loading]").each(function(index, ele){
                j$(ele).hide();
            });
        }     
         
        function CompareBBG(){
             
             
             var dist = document.getElementById('page:Leanform:DistributionPercent').value;
             var bg = document.getElementById('page:Leanform:oldBGVal').value;
             var bu = document.getElementById('page:Leanform:oldBUVal').value;
             var bl = document.getElementById('page:Leanform:oldBLVal').value;
             
             var newBG = document.getElementById('page:Leanform:pblock:pbsection1:portfolioBUItem:portfolioBU').value;
             var newBU = document.getElementById('page:Leanform:pblock:pbsection1:bBU:bBU').value;
             var newBL = document.getElementById('page:Leanform:pblock:pbsection1:bBL:bBL').value;
             //alert({!JSENCODE(cloneid)});
             if('{!JSENCODE(cloneid)}' == null || '{!JSENCODE(cloneid)}' == ''){
                 if(bg!='' && bu!='' && bl!=''){
                     if((bg!=newBG || bu!=newBU || bl!=newBL) && ('{!benefitAmount}' > 0.0 ))
                     {
                         modifiedBBGDetails();
                         //if(dist!=100){
                         if(!countBBG){
                            countBBG = true;
                            var r = confirm("Please review the %\'s allocated to Benefiting Business Groups associated with this Project.It will reset with the Selected Benefitting Business Group");
                            if (r == true) {
                                isAcceptChange = 'true';
                                return true;
                            } else {
                                isAcceptChange = 'false';
                                countBBG = false;
                                return false;
                            }
                            }
                            else{return true;}
                         //}
                    }
                }
            }
        }
    </script>
</apex:page>